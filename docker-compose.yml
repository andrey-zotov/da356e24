version: '3.8'

services:
  movie_server:
    build: ./src/py_movie_db
    volumes:
      - ./src/py_movie_db/:/usr/src/py_movie_db/
    env_file:
      - ./.env.dev
    ports:
      - 8101:80
    networks:
      - movie-dev-net
    profiles:
      - movie_server

  load_runner:
    build: ./src/load_runner
    volumes:
      - ./src/load_runner/:/usr/src/load_runner/
    env_file:
      - ./.env.dev
    ports:
      - 8089:80
    networks:
      - movie-dev-net
    profiles:
      - load_runner

networks:
  movie-dev-net:
    external: true
    name: movie-dev-net
